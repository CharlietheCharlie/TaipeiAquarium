import{_ as R,a as j}from"./crownshark-d1287b92.js";import{q as G,a as B,o as E,c as N,d as T,b as P,w as W,l as X}from"./index-44d585a9.js";function Y(){const z=document.querySelector(".start_btn button"),c=document.querySelector(".info_box"),k=c.querySelector(".buttons .quit"),m=c.querySelector(".buttons .restart"),f=document.querySelector(".quiz_box"),_=document.querySelector(".result_box"),n=document.querySelector(".option_list"),A=document.querySelector(".quiz_header .time_line"),q=document.querySelector(".timer .time_left_txt"),h=document.querySelector(".timer .timer_sec");z.onclick=()=>{c.classList.add("activeInfo")},k.onclick=()=>{c.classList.remove("activeInfo")},m.onclick=()=>{c.classList.remove("activeInfo"),f.classList.add("activeQuiz"),g(0),S(1),w(15),I(0)};let x=15,l=0,p=1,a=0,r,d,L=0,o=[{numb:1,question:"請問小丑魚為了逃避敵人，會躲進哪一種生物的觸手內？",answer:"海葵",options:["章魚","海葵","水母","以上皆非"]},{numb:2,question:"請問章魚擁有幾個心臟？",answer:"3個",options:["1個","2個","3個","4個"]},{numb:3,question:"請問海馬是什麼種類？",answer:"魚類",options:["魚類","哺乳類","兩棲類","靈長類"]},{numb:4,question:"請問海洋覆蓋大約百分之幾的地表面積？",answer:"70%",options:["20%","50%","70%","90%"]},{numb:5,question:"請問珊瑚的主要化學成分是什麼？",answer:"碳酸鈣",options:["硫化鐵","硝酸銀","硫酸鈣","碳酸鈣"]}];const C=_.querySelector(".buttons .restart"),M=_.querySelector(".buttons .quit");C.onclick=()=>{f.classList.add("activeQuiz"),_.classList.remove("activeResult"),x=15,l=0,p=1,a=0,L=0,g(l),S(p),clearInterval(r),clearInterval(d),w(x),I(L),q.textContent="時間剩下",u.classList.remove("show")},M.onclick=()=>{window.location.reload()};const u=document.querySelector(".quiz_footer .next_btn");console.log(u);const H=document.querySelector(".quiz_footer .total_que");u.onclick=()=>{l<o.length-1?(l++,p++,g(l),S(p),clearInterval(r),clearInterval(d),w(x),I(L),q.textContent="時間剩下",u.classList.remove("show")):(clearInterval(r),clearInterval(d),O())};function g(t){const s=document.querySelector(".que_text");let i="<span>"+o[t].numb+". "+o[t].question+"</span>",v='<div class="option"><span>'+o[t].options[0]+'</span></div><div class="option"><span>'+o[t].options[1]+'</span></div><div class="option"><span>'+o[t].options[2]+'</span></div><div class="option"><span>'+o[t].options[3]+"</span></div>";s.innerHTML=i,n.innerHTML=v;let e=n.querySelectorAll(".option");for(let b=0;b<e.length;b++)e[b].addEventListener("click",function(){V(this)}),e[b].style.padding="8px 15px"}let y='<div class="icon tick"><i class="bi bi-check2"></i></div>',Q='<div class="icon cross">X</i></div>';function V(t){clearInterval(r),clearInterval(d);let s=t.textContent,i=o[l].answer;const v=n.children.length;if(s==i)a+=1,t.classList.add("correct"),t.insertAdjacentHTML("beforeend",y),console.log("Correct Answer"),console.log("Your correct answers = "+a);else{t.classList.add("incorrect"),t.insertAdjacentHTML("beforeend",Q),console.log("Wrong Answer");for(let e=0;e<v;e++)n.children[e].textContent==i&&(n.children[e].setAttribute("class","option correct"),n.children[e].insertAdjacentHTML("beforeend",y),console.log("Auto selected correct answer."))}for(let e=0;e<v;e++)n.children[e].classList.add("disabled");u.classList.add("show")}function O(){c.classList.remove("activeInfo"),f.classList.remove("activeQuiz"),_.classList.add("activeResult");const t=_.querySelector(".score_text");if(a>=3){let s="<p>恭喜！ 🎉你答對了 <span class = abc>"+a+"</span> / <span class = abc>"+o.length+"</span><br><span class = abc>折扣碼：TAIPEI2023</span></p>";t.innerHTML=s}else{let s="<p>加油！ 😐你答對了 <span class = abc>"+a+"</span> / <span class = abc>"+o.length+"</span></p>";t.innerHTML=s}}function w(t){r=setInterval(s,1e3);function s(){if(h.textContent=t,t--,t<9){let i=h.textContent;h.textContent="0"+i}if(t<0){clearInterval(r),q.textContent="時間到！";const i=n.children.length;let v=o[l].answer;for(let e=0;e<i;e++)n.children[e].textContent==v&&(n.children[e].setAttribute("class","option correct"),n.children[e].insertAdjacentHTML("beforeend",y),console.log("Time Off: Auto selected correct answer."));for(let e=0;e<i;e++)n.children[e].classList.add("disabled");u.classList.add("show")}}}function I(t){d=setInterval(s,29);function s(){t+=1,A.style.width=t+"px",t>549&&clearInterval(d)}}function S(t){let s="<p><span class = abc>"+t+"</span>  /  <span class = abc>"+o.length+"</span> 題</p>";H.innerHTML=s}}const Z={class:"quiz"},D={class:"back_to_home"},F=T("img",{src:R,alt:"LOGO SVG"},null,-1),J=T("h5",null,"回首頁",-1),K=X('<div class="start_btn"><button>開始答題</button></div><div class="info_box"><div class="info-title"><span>遊戲規則</span></div><div class="info-list"><div class="info">1. 問答關卡共有五題，皆為選擇題。</div><div class="info">2. 每一題只有 <span>15 秒</span> 進行作答。</div><div class="info">3. 選擇答案後無法更改。</div><div class="info">4. 作答途中無法暫停，退出後將無法保留進度。</div><div class="info">5. 答對三題以上可獲得<span>商品折價券！</span></div></div><div class="buttons"><button class="quit" style="display:none;">離開遊戲</button><button class="restart">開始挑戰</button></div></div><div class="quiz_box"><div class="quiz_header"><div class="title">海洋知識問答</div><div class="timer"><div class="time_left_txt">時間剩下</div><div class="timer_sec">15</div></div><div class="time_line"></div></div><div class="quiz_section"><div class="que_text"></div><div class="option_list"></div></div><div class="quiz_footer"><div class="total_que"></div><button class="next_btn">下一題</button></div></div><div class="result_box"><div class="winner"><img src="'+j+'" alt="Image"></div><div class="complete_text">完成挑戰！</div><div class="score_text"></div><div class="buttons"><button class="restart">立即領取</button><button class="quit">再玩一次</button></div></div>',4),tt={__name:"GameQuiz",setup(z){return G(()=>{Y()}),(c,k)=>{const m=B("RouterLink");return E(),N("body",Z,[T("button",D,[F,P(m,{to:"/"},{default:W(()=>[J]),_:1})]),K])}}};export{tt as default};
