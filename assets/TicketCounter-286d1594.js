import{_ as T,r as s,s as h,v as d,o as v,c as p,F as w,i as x,d as o,t as _}from"./index-44d585a9.js";const V={class:"counter"},B={class:"choice"},$={class:"type"},b={class:"price"},F={class:"amount"},N=["onClick"],D=["onClick"],E={__name:"TicketCounter",props:{itinerary:{default:""},remain:{default:20},add:{default:0}},emits:["total","count","types"],setup(y,{emit:m}){const a=y,f=()=>{m("total",r),m("count",u),m("types",l)},t=s(a.remain),i=h({日間票:[{name:"大人",price:520,id:1,amount:0},{name:"學生",price:360,id:2,amount:0},{name:"兒童",price:240,id:3,amount:0},{name:"博愛票",price:240,id:4,amount:0}],星光票:[{name:"大人",price:460,id:1,amount:0},{name:"學生",price:300,id:2,amount:0},{name:"兒童",price:180,id:3,amount:0},{name:"博愛票",price:180,id:4,amount:0}],"夜宿海生館-兩天一夜1":[{name:"遊客",price:2680,id:1,amount:0}],"夜宿海生館-兩天一夜":[{name:"遊客",price:3680,id:1,amount:0}],年度通行證:[{name:"大人",price:1080,id:1,amount:0},{name:"學生",price:760,id:2,amount:0},{name:"兒童",price:520,id:3,amount:0},{name:"博愛票",price:520,id:4,amount:0}]}),u=s(0),r=s(0),l=s({大人:0,學生:0,兒童:0,博愛票:0,遊客:0}),k=function(){t.value>0?t.value-=1:alert("當日剩餘票數不足")},g=function(){t.value<a.remain&&(t.value+=1)};return d(()=>a.remain,c=>{t.value=a.remain;for(let n=0;n<i[a.itinerary].length;n++)i[a.itinerary][n].amount=0;r.value=0,u.value=0,l.value={大人:0,學生:0,兒童:0,博愛票:0,遊客:0}}),d(()=>a.itinerary,c=>{t.value=a.remain;for(let n=0;n<i[a.itinerary].length;n++)i[a.itinerary][n].amount=0;r.value=0,u.value=0,l.value={大人:0,學生:0,兒童:0,博愛票:0,遊客:0}}),d(()=>a.add,c=>{for(let n=0;n<i[a.itinerary].length;n++)i[a.itinerary][n].amount=0;r.value=0,u.value=0,l.value={大人:0,學生:0,兒童:0,博愛票:0,遊客:0}}),(c,n)=>(v(),p("div",V,[(v(!0),p(w,null,x(i[y.itinerary],e=>(v(),p("div",B,[o("div",$,[o("h4",null,_(e.name),1),o("h4",b,"NT $"+_(e.price),1)]),o("div",F,[o("button",{onClick:C=>{e.amount>0&&(r.value-=e.price),e.amount>0&&(u.value-=1),e.amount>0&&(l.value[e.name]-=1),e.amount>0&&g(),e.amount>0&&e.amount--,f()}},"-",8,N),o("p",null,_(e.amount)+"張",1),o("button",{onClick:C=>{t.value!=0&&(r.value+=e.price),t.value!=0&&(u.value+=1),t.value!=0&&(l.value[e.name]+=1),t.value>0&&e.amount++,k(),f()}},"+",8,D)])]))),256))]))}},L=T(E,[["__scopeId","data-v-91e0862e"]]);export{L as T};
